"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .team_include import TeamInclude, TeamIncludeTypedDict
from enum import Enum
from latitudesh_python_sdk.types import (
    BaseModel,
    Nullable,
    OptionalNullable,
    UNSET,
    UNSET_SENTINEL,
)
from pydantic import model_serializer
from typing import Optional
from typing_extensions import NotRequired, TypedDict


class BillingType(str, Enum):
    YEARLY = "Yearly"
    MONTHLY = "Monthly"
    HOURLY = "Hourly"
    NORMAL = "Normal"
    CUSTOM = "Custom"


class BillingMethod(str, Enum):
    NORMAL = "Normal"
    NINETY_FIVETH_PERCENTILE = "95th percentile"


class Environment(str, Enum):
    DEVELOPMENT = "Development"
    STAGING = "Staging"
    PRODUCTION = "Production"


class ProjectStatsTypedDict(TypedDict):
    ip_addresses: NotRequired[float]
    r"""The number of IP addresses assigned to the project"""
    prefixes: NotRequired[float]
    r"""The IP address prefixes in the project"""
    servers: NotRequired[float]
    r"""The number of servers assigned to the project"""
    containers: NotRequired[float]
    r"""The number of containers assigned to the project"""
    vlans: NotRequired[float]
    r"""The number of VLANs assigned to the project"""


class ProjectStats(BaseModel):
    ip_addresses: Optional[float] = None
    r"""The number of IP addresses assigned to the project"""

    prefixes: Optional[float] = None
    r"""The IP address prefixes in the project"""

    servers: Optional[float] = None
    r"""The number of servers assigned to the project"""

    containers: Optional[float] = None
    r"""The number of containers assigned to the project"""

    vlans: Optional[float] = None
    r"""The number of VLANs assigned to the project"""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(
            ["ip_addresses", "prefixes", "servers", "containers", "vlans"]
        )
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m


class ProjectBillingTypedDict(TypedDict):
    subscription_id: NotRequired[str]
    type: NotRequired[str]
    method: NotRequired[str]


class ProjectBilling(BaseModel):
    subscription_id: Optional[str] = None

    type: Optional[str] = None

    method: Optional[str] = None

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(["subscription_id", "type", "method"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m


class ProjectAttributesTypedDict(TypedDict):
    name: NotRequired[str]
    r"""The project name"""
    slug: NotRequired[str]
    r"""A unique project identifier"""
    description: NotRequired[Nullable[str]]
    r"""The project description"""
    billing_type: NotRequired[BillingType]
    billing_method: NotRequired[BillingMethod]
    cost: NotRequired[str]
    environment: NotRequired[Nullable[Environment]]
    stats: NotRequired[ProjectStatsTypedDict]
    billing: NotRequired[ProjectBillingTypedDict]
    team: NotRequired[TeamIncludeTypedDict]
    created_at: NotRequired[str]
    updated_at: NotRequired[str]


class ProjectAttributes(BaseModel):
    name: Optional[str] = None
    r"""The project name"""

    slug: Optional[str] = None
    r"""A unique project identifier"""

    description: OptionalNullable[str] = UNSET
    r"""The project description"""

    billing_type: Optional[BillingType] = None

    billing_method: Optional[BillingMethod] = None

    cost: Optional[str] = None

    environment: OptionalNullable[Environment] = UNSET

    stats: Optional[ProjectStats] = None

    billing: Optional[ProjectBilling] = None

    team: Optional[TeamInclude] = None

    created_at: Optional[str] = None

    updated_at: Optional[str] = None

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(
            [
                "name",
                "slug",
                "description",
                "billing_type",
                "billing_method",
                "cost",
                "environment",
                "stats",
                "billing",
                "team",
                "created_at",
                "updated_at",
            ]
        )
        nullable_fields = set(["description", "environment"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)
            is_nullable_and_explicitly_set = (
                k in nullable_fields
                and (self.__pydantic_fields_set__.intersection({n}))  # pylint: disable=no-member
            )

            if val != UNSET_SENTINEL:
                if (
                    val is not None
                    or k not in optional_fields
                    or is_nullable_and_explicitly_set
                ):
                    m[k] = val

        return m


class ProjectTypedDict(TypedDict):
    id: NotRequired[str]
    r"""The project ID"""
    attributes: NotRequired[ProjectAttributesTypedDict]


class Project(BaseModel):
    id: Optional[str] = None
    r"""The project ID"""

    attributes: Optional[ProjectAttributes] = None

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(["id", "attributes"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m
